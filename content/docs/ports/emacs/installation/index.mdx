<!--
Copyright (c) 2016-present Sven Greb <development@svengreb.de>
This source code is licensed under the MIT license found in the license file.
-->

import Link from "atoms/core/Link";
import { Banner, Image, ShrinkedWidth, SpaceBox } from "atoms/core/mdx-elements";
import { Code, Kbd } from "atoms/core/html-elements";
import { ReactComponent as WindowCode } from "assets/images/illustrations/window-code.svg";
import { ROUTE_DOCS_COLOR_AND_PALETTES, ROUTE_PORTS } from "config/routes/mappings";

import WIPNotice from "../../../../shared/docs/wip-notice";

export const frontmatter = {
  title: "Installation & Activation",
  subline: "Get up and running with one command through the builtin package manager or manual setup",
};

<ShrinkedWidth value={25}>

<SpaceBox mTop={4} mBottom={4}>
  <WindowCode />
</SpaceBox>

</ShrinkedWidth>

<ShrinkedWidth value={80}>

<WIPNotice />

<Banner
  title={
    <>
      Emacs in terminal mode <strong>must</strong> be used with a <Link to={ROUTE_PORTS}>Nord terminal emulator theme</Link> in order to work properly!
    </>
  }
>
  Make sure to install one of the currently supported <Link to={ROUTE_PORTS}>terminal emulator port projects</Link> <strong>before</strong> installing Nord Emacs.

Emacs in terminal mode uses the 16 color codes provided by the terminal emulator.
**When used with another color theme** than one of Nord's terminal emulator ports, Emacs won't use the color of <Link to={ROUTE_DOCS_COLOR_AND_PALETTES}>Nord's color palettes</Link>!
This will result in different styles than those defined by Nord Emacs making it appear that there is a problem with Nord Emacs while the actual problem are missing Nord terminal color definitions.

Read the GitHub Gist about [terminal colors][gh-gist-terminal-colors] for more information about terminal color specifications.

</Banner>

## Installation

Thanks to the builtin Emacs package manager, Nord Emacs can be installed for all platforms and the various variants/forks of Emacs in a uniform way with one command.

To install or update Nord Emacs

1. press <Kbd>M-x</Kbd>
2. run the `package-install` command
3. type `nord-theme` and confirm with <Kbd>↲</Kbd>

<Image
  alt="Screenshot showing Emacs package listing and installation command to setup and update Nord through the builtin package manager"
  dropShadow
  fluid={props.images["package-manager.png"]}
  rounded
>
  <span>Emacs package listing and installation command to setup and update Nord through the builtin package manager.</span>
</Image>

See Emacs [official package install documentations][emacs-man-pack_inst] for more details how to use the builtin package management.

###### Manual

To install Nord Emacs manually, [download the latest version][repo-down-master] or [clone the repository][repo].
Afterwards copy the [`nord-theme.el`][repo-tree-master-nord-theme.el] file into the [`.emacs.d/themes` folder][emacs-man-custom_themes] located in your [home directory][wiki-home_dir].

<Image alt="Screenshot showing the GitHub repository web UI to download the project repository" fillSize={60} fluid={props.images["github-clone.png"]} />

## Activation

Make sure the [`~/.emacs.d/themes` directory][emacs-man-custom_themes] has been added to Emacs _load path_ by adding it to the list in your [init file][emacs-man-init_file] (`.init.el`):

```lisp
(add-to-list 'custom-theme-load-path (expand-file-name "~/.emacs.d/themes/"))
```

To activate and use Nord Emacs as your default color theme load it in your init file:

```lisp
(load-theme 'nord t)
```

To switch to the theme on-the-fly

1. press <Kbd>M-x</Kbd>
2. run the `load-theme` command
3. type `nord` and confirm with <Kbd>↲</Kbd>

</ShrinkedWidth>

[emacs-man-custom_themes]: https://www.gnu.org/software/emacs/manual/html_node/emacs/Custom-Themes.html
[emacs-man-init_file]: https://www.gnu.org/software/emacs/manual/html_node/emacs/Init-File.html
[emacs-man-pack_inst]: https://www.gnu.org/software/emacs/manual/html_node/emacs/Package-Installation.html#Package-Installation
[gh-gist-terminal-colors]: https://gist.github.com/XVilka/8346728
[repo-down-master]: https://github.com/nordtheme/emacs/archive/master.zip
[repo-tree-master-nord-theme.el]: https://github.com/nordtheme/emacs/blob/master/nord-theme.el
[repo]: https://github.com/nordtheme/emacs
[wiki-home_dir]: https://en.wikipedia.org/wiki/Home_directory
